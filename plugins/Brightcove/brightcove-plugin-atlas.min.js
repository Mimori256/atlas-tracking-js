videojs.registerPlugin("atlasTracking",function(e){function a(e,t){window.top.postMessage({isAtlasEvent:!0,action:e,category:"video",attributes:JSON.stringify(function(e){if(e&&e.player)return{media:{name:e.player.mediainfo.name,is_fullscreen:e.player.isFullscreen(),src:e.player.currentSrc()||"na",id:e.player.id()||"na",autoplay:e.player.autoplay()||!1,muted:e.player.muted()||!1,type:e.player.currentType()||void 0,width:e.player.videoWidth()||void 0,height:e.player.videoHeight()||void 0,duration:e.player.duration(),current_time:Math.round(10*e.player.currentTime())/10,played_percent:Math.round(e.player.currentTime()/e.player.duration()*100),tag:e.nodeName.toLowerCase()||"na",dataset:e.dataset}}}(t))},"*")}var r=e&&e.heartbeat?e.heartbeat:5,n={};this.on("play",function(e){a("play",e.target)}),this.on("pause",function(e){a("pause",e.target)}),this.on("ended",function(e){a("end",e.target)}),this.on("timeupdate",function(e){var t=e.target.player.currentSrc();if(n[t])return!1;n[t]=setTimeout(()=>{!0!==e.target.paused&&!0!==e.target.ended&&a("playing",e.target),n[t]=!1},1e3*r)})});